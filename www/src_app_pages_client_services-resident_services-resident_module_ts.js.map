{"version":3,"file":"src_app_pages_client_services-resident_services-resident_module_ts.js","mappings":"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","sources":["./src/app/pages/client/services-resident/maintenance/maintenance.component.ts","./src/app/pages/client/services-resident/services-resident-routing.module.ts","./src/app/pages/client/services-resident/services-resident.module.ts","./src/app/pages/client/services-resident/services-resident.page.ts","./src/app/pages/client/services-resident/services/services.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { CalendarItem } from 'src/app/core/models/calendar';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { CalendarService } from 'src/app/core/services/modules/calendar.service';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\nimport { RequestsService } from 'src/app/core/services/modules/requests.service';\nimport { NewRequestComponent } from 'src/app/shared/components/services/new-request/new-request.component';\nimport { NewServiceComponent } from 'src/app/shared/components/services/new-service/new-service.component';\n\n@Component({\n  selector: 'app-maintenance',\n  templateUrl: './maintenance.component.html',\n  styleUrls: ['./maintenance.component.scss'],\n})\nexport class MaintenanceComponent implements OnInit {\n  itemList: CalendarItem[] = [];\n  currentUser: UserFormData;\n  loading = false;\n  filterSelected: '>'|'<' = '>'\n\n  filterItems = [\n    {name: 'PrÃ³ximas',filter: '>'},\n    {name: 'Pasadas',filter: '<'}\n  ]\n  constructor(\n    private calendar: CalendarService, \n    private modal: ModalController,\n    private routerOutlet: IonRouterOutlet,\n    private requests: RequestsService,\n    public auth: FireAuthService\n  ) { }\n\n  ngOnInit() {\n    this.loading = true;\n    this.loadData().then(user => {\n      this.loading = false;\n    })\n  }\n\n  async loadData() {\n    const userData:any = await this.auth.getUser();\n    this.currentUser = userData.data;\n    this.itemList = await this.requests.readResidentRequestListOrderRent('userUID',this.currentUser.uid, '==');\n    console.log(this.itemList)\n    return this.currentUser\n  }\n\n  async doRefresh(refresh?){\n    // load \n    await this.loadData();\n    if (refresh){ refresh.target.complete(); }\n  }\n\n  async editService(request){\n    const modalService = await this.modal.create({\n      component: NewRequestComponent,\n      componentProps: {service: null, request, currentUser: this.currentUser },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modalService.present();\n    const modalResult1 = await modalService.onWillDismiss();\n    if(modalResult1.data){}\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ServicesResidentPage } from './services-resident.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ServicesResidentPage\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ServicesResidentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ServicesResidentPageRoutingModule } from './services-resident-routing.module';\n\nimport { ServicesResidentPage } from './services-resident.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { MaintenanceComponent } from './maintenance/maintenance.component';\nimport { ServicesComponent } from './services/services.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    ServicesResidentPageRoutingModule\n  ],\n  declarations: [\n    ServicesResidentPage,\n    MaintenanceComponent,\n    ServicesComponent\n  ]\n})\nexport class ServicesResidentPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ServicesController } from 'src/app/core/controller/services.controller';\nimport { UserController } from 'src/app/core/controller/user.controller';\n\n@Component({\n  selector: 'app-services-resident',\n  templateUrl: './services-resident.page.html',\n  styleUrls: ['./services-resident.page.scss'],\n})\nexport class ServicesResidentPage implements OnInit {\n\n  constructor(\n    public services: ServicesController,\n    public userCtrl: UserController\n    ) { }\n\n  ngOnInit() {\n  }\n\n  segmentChanged(ev: any) {\n    this.services.changeTab(ev.detail.value)\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { ServicesController } from 'src/app/core/controller/services.controller';\nimport { NewRequestComponent } from 'src/app/shared/components/services/new-request/new-request.component';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\n\n\n@Component({\n  selector: 'app-services',\n  templateUrl: './services.component.html',\n  styleUrls: ['./services.component.scss'],\n})\nexport class ServicesComponent implements OnInit {\n  user: UserFormData\n  loading = false;\n  defaultSpace = '../../../../../assets/blueprint.png';\n\n  constructor(\n    public services: ServicesController,\n    public auth: FireAuthService,\n    private routerOutlet: IonRouterOutlet,\n    public modal: ModalController\n  ) { }\n\n  ngOnInit() { \n    this.auth.getUser().then((user: any) =>{\n      this.user = user.data;\n    });\n  }\n\n  async doRefresh(refresh?){\n    this.loading = true;\n    this.services.loadServices(this.user.type)\n    .then(() => { \n      this.loading = false;\n      if (refresh){ refresh.target.complete(); }\n    });\n  }\n\n  showCost(space){\n    if(space.rent){return space.rentData.cost + \"$\"; }\n    else{ return 'Gratis'; }\n  }\n\n  async pickService(request, service){\n    const modalCreate = await this.modal.create({\n      component: NewRequestComponent,\n      componentProps: {service, request, currentUser: this.user },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modalCreate.present();\n    const modalResult2 = await modalCreate.onWillDismiss();\n    console.log(modalResult2);\n    if(modalResult2.data){  this.services.changeTab('maintenance') }\n  }\n\n}\n"],"names":["Component","IonRouterOutlet","ModalController","CalendarService","FireAuthService","RequestsService","NewRequestComponent","MaintenanceComponent","constructor","calendar","modal","routerOutlet","requests","auth","name","filter","ngOnInit","loading","loadData","then","user","userData","getUser","currentUser","data","itemList","readResidentRequestListOrderRent","uid","console","log","doRefresh","refresh","target","complete","editService","request","modalService","create","component","componentProps","service","mode","presentingElement","nativeEl","present","modalResult1","onWillDismiss","selector","template","ServicesController","ServicesComponent","services","loadServices","type","showCost","space","rent","rentData","cost","pickService","modalCreate","modalResult2","changeTab"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}