{"version":3,"file":"src_app_pages_employee_notices-staff_notices-staff_module_ts.js","mappings":"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","sources":["./src/app/pages/employee/notices-staff/notices-staff-routing.module.ts","./src/app/pages/employee/notices-staff/notices-staff.module.ts","./src/app/pages/employee/notices-staff/notices-staff.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NoticesStaffPage } from './notices-staff.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NoticesStaffPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NoticesStaffPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NoticesStaffPageRoutingModule } from './notices-staff-routing.module';\n\nimport { NoticesStaffPage } from './notices-staff.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    NoticesStaffPageRoutingModule\n  ],\n  declarations: [NoticesStaffPage]\n})\nexport class NoticesStaffPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { Notice } from 'src/app/core/models/notice';\nimport { User, UserFormData } from 'src/app/core/models/user';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\nimport { NoticeService } from 'src/app/core/services/modules/notice.service';\nimport { NewNoticeComponent } from 'src/app/shared/components/new-notice/new-notice.component';\n\n@Component({\n  selector: 'app-notices-staff',\n  templateUrl: './notices-staff.page.html',\n  styleUrls: ['./notices-staff.page.scss'],\n})\nexport class NoticesStaffPage implements OnInit {\n  user: User;\n  userData: UserFormData;\n  loading = true;\n  loadingColor = false;\n  loadingList = [1,2,3,4,5]\n\n  noticeList: Notice[] = [];\n\n  constructor(\n    private auth: FireAuthService,\n    private notices: NoticeService,\n    private modal: ModalController,\n    private routerOutlet: IonRouterOutlet,\n  ) { }\n\n  ngOnInit(){\n    this.loading = true;\n    this.auth.getUser().then((user: any) =>{\n      this.user = user.user;\n      this.userData = user.data;\n      this.loadData().then(() => {\n        this.loading = false;\n      })\n    });\n  }\n\n  async loadData(){\n    try {\n      this.noticeList = await this.notices.readNoticeList();\n      return 'done';\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async detailNotice(notice){\n    const modal = await this.modal.create({\n      component: NewNoticeComponent,\n      componentProps: {notice, user: this.userData},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.loadData(); }\n  }\n\n\n  doRefresh(refresh?){\n    this.loadData().then(done => {\n      if (refresh){ refresh.target.complete(); }\n    }).catch(error => {\n      console.log(error);\n      if (refresh){ refresh.target.complete(); }\n    })\n  }\n\n  async reloadData(reload){\n    const that = this;\n    if(reload){that.noticeList = await that.notices.readNoticeList();}\n  }\n}\n"],"names":["Component","IonRouterOutlet","ModalController","FireAuthService","NoticeService","NewNoticeComponent","NoticesStaffPage","constructor","auth","notices","modal","routerOutlet","ngOnInit","loading","getUser","then","user","userData","data","loadData","noticeList","readNoticeList","error","console","log","detailNotice","notice","create","component","componentProps","mode","presentingElement","nativeEl","present","modalResult","onWillDismiss","doRefresh","refresh","done","target","complete","catch","reloadData","reload","that","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}