{"version":3,"file":"src_app_pages_administrator_user-manager_user-manager_module_ts.js","mappings":"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","sources":["./src/app/pages/administrator/user-manager/billing-view/billing-view.component.ts","./src/app/pages/administrator/user-manager/profile-detail/profile-detail.component.ts","./src/app/pages/administrator/user-manager/user-list/user-list.component.ts","./src/app/pages/administrator/user-manager/user-manager-routing.module.ts","./src/app/pages/administrator/user-manager/user-manager.module.ts","./src/app/pages/administrator/user-manager/user-manager.page.ts","./src/app/shared/utilities/loader-data.service.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { Receipt } from 'src/app/core/models/billis';\nimport { Community } from 'src/app/core/models/spaces';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { BillingService } from 'src/app/core/services/modules/billing.service';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\nimport { SpacesService } from 'src/app/core/services/modules/spaces.service';\nimport { UsersService } from 'src/app/core/services/modules/users.service';\nimport { NewReceiptComponent } from 'src/app/shared/components/bills/new-receipt/new-receipt.component';\nimport { SignModalComponent } from 'src/app/shared/components/view/sign-modal/sign-modal.component';\nimport { AlertsService } from 'src/app/shared/utilities/alerts';\nimport { TimeHandlerModule } from 'src/app/shared/utilities/time-handler';\n\n@Component({\n  selector: 'app-billing-view',\n  templateUrl: './billing-view.component.html',\n  styleUrls: ['./billing-view.component.scss'],\n})\nexport class BillingViewComponent implements OnInit {\n  community: Community;\n  currentUser: UserFormData;\n  selectedMonth;\n  endMonth;\n  billsList: Receipt[] = [];\n  loading = false;\n  receiptDate = new Date().toISOString();\n  receiptProgress = 0;\n\n  constructor(\n    private users: UsersService,\n    private alerts: AlertsService,\n    private auth: FireAuthService,\n    private spaces: SpacesService,\n    private modal: ModalController,\n    private billing: BillingService,\n    private time: TimeHandlerModule,\n    private routerOutlet: IonRouterOutlet,\n  ) { }\n\n  ngOnInit() {\n    this.loading = true;\n    this.receiptDate = this.time.getCurrentMonthStart(new Date());\n    this.selectedMonth = this.time.getCurrentMonthStart(new Date());\n    this.endMonth = this.time.getEndMonth(this.selectedMonth);\n    this.loadData().then(() => { this.loading = false; })\n  }\n\n  nextMonth(){\n    this.selectedMonth = this.time.getNextMonStart(this.selectedMonth);\n    this.endMonth = this.time.getEndMonth(this.selectedMonth);\n    this.loading = true;\n    this.loadData().then(() => {this.loading = false;})\n  }\n\n  prevMonth(){\n    this.selectedMonth = this.time.getPrevMonStart(this.selectedMonth);\n    this.endMonth = this.time.getEndMonth(this.selectedMonth);\n    this.loading = true;\n    this.loadData().then(() => {this.loading = false;})\n  }\n\n  async loadData(){\n    try {\n      this.billsList = await this.billing.readMonthReceiptList(this.selectedMonth,this.endMonth);\n      this.auth.getUser().then((user: any) =>{\n        this.currentUser = user.data;\n      });\n      return 'done';\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async newReceiptModal(receipt){\n    const modal = await this.modal.create({\n      component: NewReceiptComponent,\n      componentProps: { user: null, currentUser:this.currentUser, receipt },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){  \n      if(modalResult.data.action === 'payReceipt'){this.SignModal(receipt)}\n      else{this.loadData();}\n    }\n  }\n\n  async SignModal(receipt){\n    const modal = await this.modal.create({\n      component: SignModalComponent,\n      componentProps: {receipt, currentUser:this.currentUser},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if (modalResult.data){\n      console.log(modalResult.data)\n      if(modalResult.data.receipt){\n        const update = modalResult.data.receipt;\n        let list = []\n        this.billsList.forEach(receipt => {\n          if(update.uid === receipt.uid){list.push(update)}\n          else{list.push(receipt)}\n        })\n        this.billsList = list;\n      }\n    }\n  }\n  \n  changeReceiptDate(event){\n    this.receiptDate = new Date(event).toISOString();\n  }\n\n  async createListReceipt(){\n    this.loading = true;\n    const selectedMonth = this.time.getCurrentMonthStart(this.receiptDate);\n    const endMonth = this.time.getEndMonth(selectedMonth);\n    let billsList = await this.billing.readMonthReceiptList(selectedMonth,endMonth);\n    if(billsList.length>0){\n      this.selectedMonth = selectedMonth;\n      this.endMonth = endMonth;\n      this.billsList = billsList;\n      this.loading = false;\n      this.alerts.showAlert( 'RECIBOS MENSUALES', 'Se encontraron recibos de '+this.time.getMonthName(this.receiptDate)+', ya se encuentran generados.', 'OK');\n      this.modal.dismiss();\n    }else{\n      const communities = await this.spaces.readCommunityList();\n      const list = await this.users.readOnlyResidents();\n      let lastNumber = communities[0].lastReceiptNumber;\n      let listBills = [];\n      for(let i=0; i<list.length; i++){\n        lastNumber = i + 1 + communities[0].lastReceiptNumber\n        const bill = await this.billing.generateReceipt(lastNumber,this.receiptDate, list[i],this.currentUser,[],[]);\n        this.receiptProgress =  i/list.length;\n        listBills.push(bill);\n      }\n      this.billsList = listBills;\n      await this.spaces.UpdateCommunity({...communities[0],lastReceiptNumber:lastNumber})\n      this.alerts.showAlert( 'RECIBOS MENSUALES '+this.time.getMonthName(this.receiptDate).toUpperCase(), list.length+' nuevos recibos han sido generados', 'OK');\n      this.selectedMonth = selectedMonth;\n      this.endMonth = endMonth;\n      this.modal.dismiss();\n      this.receiptProgress = 0;\n      this.loadData().then(() => {this.loading = false;})\n    }\n  }\n\n  eraseBills(){\n    this.billsList.forEach(async item => { \n      await this.billing.eraseBill(item);\n    })\n  }\n\n  async checkList(){\n    let List = await this.billing.readAllReceiptList();\n    List.sort((a,b)=>{return a.receiptNumber-b.receiptNumber})\n    console.log(List);\n    let lastNumber = 0;\n    for(let i=0; i < List.length ; i++){\n      /*\n      lastNumber = (i+1)\n      let update: Receipt = {...List[i], status:'Pendiente', receiptNumber: (i+1)}\n      await this.billing.UpdateReceipt(update);\n      console.log(update);\n      */\n      console.log(List[i].receiptNumber);\n    }\n    // await this.spaces.UpdateCommunity({...communities[0],lastReceiptNumber:lastNumber})\n  }\n\n}","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { attachmentOptions } from 'src/app/core/models/images';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { UsersService } from 'src/app/core/services/modules/users.service';\nimport { AlertsService } from 'src/app/shared/utilities/alerts';\nimport { AttachmentsService } from 'src/app/shared/utilities/attachments.service';\nimport { HapticsService } from 'src/app/shared/utilities/haptics.service';\n\n@Component({\n  selector: 'app-profile-detail',\n  templateUrl: './profile-detail.component.html',\n  styleUrls: ['./profile-detail.component.scss'],\n})\nexport class ProfileDetailComponent implements OnInit {\n  loading = false;\n  upgrading = false;\n  @Input() admin: boolean;\n  @Input() user: UserFormData;\n  @Input() currentUser: UserFormData;\n  petList = []\n  \n  defaultUser = '../../../../assets/profile/ProfileBlank.png';\n\n  editUserForm = false;\n\n  myCurrentUser: UserFormData ={\n    CI: null,\n    photo: null,\n    email: null,\n    phonePersonal: null,\n    phoneHome: null,\n    phoneWork: null,\n    name: null,\n    secondName: null,\n    lastName: null,\n    secondLastName: null,\n    birthDate: null,\n    type: null,\n  }\n\n  newImage;\n  progress = 0;\n  showCalendar = false;\n  typeList = ['residente','empleado','administrador','inactivo'];\n  alertEmail = '';\n  missingData = '';\n\n  constructor(\n    public modal: ModalController,\n    public alerts: AlertsService,\n    private images: AttachmentsService,\n    private vibe: HapticsService,\n    private users: UsersService,\n  ) { }\n\n  ngOnInit() { \n    if(this.user){ this.myCurrentUser = this.user; }\n   }\n\n  editUser(){\n    if(this.editUserForm){\n      this.myCurrentUser = this.user;\n      this.editUserForm = false;\n    } else {\n      this.editUserForm= true;\n    }\n  }\n\n  CIListener(e){ \n    this.myCurrentUser.CI = e.detail.value;\n  }\n\n  emailListener(e){ \n    this.myCurrentUser.email = e.detail.value\n    if(!this.ValidateEmail(this.myCurrentUser.email)){ this.alertEmail = 'Email inválido'; }\n    else{ this.alertEmail = ''; }\n  }\n\n  phonePersonalListener(e){ this.myCurrentUser.phonePersonal = e.detail.value}\n\n  phoneHomeListener(e){ this.myCurrentUser.phoneHome = e.detail.value}\n\n  phoneWorkListener(e){ this.myCurrentUser.phoneWork = e.detail.value}\n\n  nameListener(e){ this.myCurrentUser.name = e.detail.value}\n\n  secondNameListener(e){ this.myCurrentUser.secondName = e.detail.value}\n\n  lastNameListener(e){ this.myCurrentUser.lastName = e.detail.value}\n\n  secondLastNameListener(e){ this.myCurrentUser.secondLastName = e.detail.value}\n\n  showCalendar1(){ this.showCalendar = !this.showCalendar; }\n  \n  changeScheduleTime(event){\n    this.showCalendar = false;\n    this.myCurrentUser.birthDate = new Date(event).toISOString();\n  }\n\n  typeHandler(e){ this.myCurrentUser.type = e.detail.value}\n\n  addPhoto() {\n    if(this.user){\n      const options: attachmentOptions = {\n        currentRoute: 'administrator/users',\n        height:null, width:null, pdf: false\n      }\n      this.images.presentImageOptions(options).then(async imageObj => {\n        if (imageObj[0] !== undefined){ this.newImage = imageObj[0];\n        }\n      });\n    }\n  }\n\n  sendData(){\n    if(!this.myCurrentUser.name){this.missingData = 'Primer nombre'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n    if(this.myCurrentUser.name.length > 1){this.missingData = 'Primer nombre completo'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n\n    if(!this.myCurrentUser.secondName){this.missingData = 'Segundo nombre'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n    if(this.myCurrentUser.secondName.length > 2){this.missingData = 'Número de identificación completo'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n\n    if(!this.myCurrentUser.lastName){this.missingData = 'Primer apellido'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n    if(this.myCurrentUser.lastName.length > 2){this.missingData = 'Apellido completo'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n\n    if(!this.myCurrentUser.CI){this.missingData = 'Número de identificación'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n    if(this.myCurrentUser.CI.length > 4){this.missingData = 'Número de identificación completo'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n\n    if(!this.myCurrentUser.email){this.missingData = 'Email'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n    if(!this.ValidateEmail(this.myCurrentUser.email)){this.missingData = 'Email correcto'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n\n    if(!this.myCurrentUser.phonePersonal){this.missingData = 'Telefono Principal'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n    const phonePersonal = ''+this.myCurrentUser.phonePersonal;\n    if(phonePersonal.length > 4){this.missingData = 'Telefono Principal completo'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n\n    if(!this.myCurrentUser.birthDate){this.missingData = 'Fecha de Nacimiento'; this.show('Información Incompleta','Falta dato: '+ this.missingData);  return}\n\n    else{ this.missingData = '' }\n    if(this.user){\n      this.users.createUser(this.myCurrentUser)\n    }else {\n      this.users.updateUser(this.myCurrentUser);\n    }\n    this.show( 'USUARIO', \n    this.user? 'Datos de '+ this.user.name + ' '+ this.user.lastName + ' han sido actualizados' : 'Nuevo usuario agregado', 'OK');\n    this.loading = false;\n    this.modal.dismiss({action:'reload'});\n    return 'done';\n  }\n\n  show(title,text,button?){\n    this.alerts.showAlert(title,text,button);\n  }\n\n  newReceipts(){\n    this.modal.dismiss({action:'receipt',user: this.user})\n  }\n\n  editSpaces(){\n    this.modal.dismiss({action:'spaces',user: this.currentUser})\n  }\n\n  ValidateEmail(email) {\n    var validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n    if (email.match(validRegex)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Space } from 'src/app/core/models/spaces';\nimport { User, UserFormData } from 'src/app/core/models/user';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { UserController } from 'src/app/core/controller/user.controller';\nimport { UsersService } from 'src/app/core/services/modules/users.service';\nimport { ProfileDetailComponent } from 'src/app/pages/administrator/user-manager/profile-detail/profile-detail.component';\nimport { BillingService } from 'src/app/core/services/modules/billing.service';\nimport { TimeHandlerModule } from 'src/app/shared/utilities/time-handler';\nimport { AssignSpaceComponent } from 'src/app/shared/components/assign-space/assign-space.component';\nimport { LoaderDataService } from 'src/app/shared/utilities/loader-data.service';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.scss'],\n})\nexport class UserListComponent implements OnInit {\n  user: User;\n  currentUser: UserFormData;\n  loading = true;\n  userList: UserFormData[] = [];\n  units: Space[];\n\n  constructor(\n    private users: UsersService,\n    private router: Router,\n    private modal: ModalController,\n    private routerOutlet: IonRouterOutlet,\n    public userCtrl: UserController,\n    private call: LoaderDataService,\n  ) { }\n\n  ngOnInit() {\n    this.loadUsers()\n    .then(() => {this.loading = false;})\n    .catch(() => {this.loading = false;})\n  }\n\n  loadUsers(){\n    return new Promise(async (resolve,reject) => {\n      this.userList = [];\n      this.users.readAllUsers()\n      .then(list => {\n        this.userList  = this.call.loadItems(list, this.userList);\n        this.userList = list.sort(this.sortByName);\n        this.userCtrl.loadUser().then((data:any) => {\n          this.user = data.user;\n          this.currentUser = data.data;\n          resolve('ok')\n        })\n      }).catch(error => {\n        console.log(error);\n        reject('error');\n      })\n    })\n  }\n\n  sortByName( a, b ) {\n    if ( a.type < b.type ){ return -1; }\n    if ( a.type > b.type ){ return 1; }\n    if ( a.name < b.name ){ return -1; }\n    if ( a.name > b.name ){ return 1; }\n    return 0;\n  }\n\n  async userDetail(user){\n    if(user.uid === this.currentUser.uid){\n      this.router.navigateByUrl('administrator/profile');\n    } else {\n      const modal = await this.modal.create({\n        component: ProfileDetailComponent,\n        componentProps: {user, currentUser:this.currentUser, admin: true},\n        mode: 'ios',\n        presentingElement: this.routerOutlet.nativeEl\n      });\n      modal.present();\n      const modalResult = await modal.onWillDismiss();\n      console.log(modalResult.data)\n      if(modalResult.data){ \n        if(modalResult.data.action === 'reload'){this.loadUsers();}\n        else if(modalResult.data.action === 'spaces'){this.editSpaces(user);}\n       }\n    }\n  }\n\n  async editSpaces(user){\n    console.log(user)\n    const modal = await this.modal.create({\n      component: AssignSpaceComponent,\n      componentProps: {userData: user},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.loadUsers(); }\n  }\n\n  doRefresh(refresh?){\n    this.loadUsers().then(done => {\n      if (refresh){ refresh.target.complete(); }\n    }).catch(error => {\n      console.log(error);\n      if (refresh){ refresh.target.complete(); }\n    })\n  }\n\n  async newUser(user){\n    const modal = await this.modal.create({\n      component: ProfileDetailComponent,\n      componentProps: {user, currentUser:this.currentUser},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.loadUsers(); }\n  }\n\n  async newUserModal(){\n    const modal = await this.modal.create({\n      component: ProfileDetailComponent,\n      componentProps: { user: null, currentUser:this.currentUser },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.loadUsers(); }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserManagerPage } from './user-manager.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserManagerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserManagerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserManagerPageRoutingModule } from './user-manager-routing.module';\n\nimport { UserManagerPage } from './user-manager.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { ProfileDetailComponent } from './profile-detail/profile-detail.component';\nimport { BillingViewComponent } from './billing-view/billing-view.component';\nimport { UserListComponent } from './user-list/user-list.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    UserManagerPageRoutingModule\n  ],\n  declarations: [\n    UserManagerPage,\n    ProfileDetailComponent,\n    BillingViewComponent,\n    UserListComponent\n  ]\n})\nexport class UserManagerPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { UserController } from 'src/app/core/controller/user.controller';\n\n@Component({\n  selector: 'app-user-manager',\n  templateUrl: './user-manager.page.html',\n  styleUrls: ['./user-manager.page.scss'],\n})\nexport class UserManagerPage implements OnInit {\n  selectedTab = 'users'\n\n  constructor(public userCtrl: UserController) { }\n\n  ngOnInit() {\n  }\n\n  segmentChanged(ev: any) {\n    this.selectedTab = ev.detail.value;\n  }\n}","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoaderDataService {\n\n  constructor() { }\n\n  loadItems(oldItems: any[], newItems: any[]){\n    if(newItems.length < oldItems.length){\n      return oldItems.concat(newItems);\n    }else{\n      return newItems\n    }\n  }\n\n  loadItemsRefresh(oldItems: any[], newItems: any[]){\n    if(newItems.length < oldItems.length){\n      return oldItems.concat(newItems);\n    }else{\n      return newItems\n    }\n  }\n}\n"],"names":["Component","IonRouterOutlet","ModalController","BillingService","FireAuthService","SpacesService","UsersService","NewReceiptComponent","SignModalComponent","AlertsService","TimeHandlerModule","BillingViewComponent","constructor","users","alerts","auth","spaces","modal","billing","time","routerOutlet","Date","toISOString","ngOnInit","loading","receiptDate","getCurrentMonthStart","selectedMonth","endMonth","getEndMonth","loadData","then","nextMonth","getNextMonStart","prevMonth","getPrevMonStart","billsList","readMonthReceiptList","getUser","user","currentUser","data","error","console","log","newReceiptModal","receipt","create","component","componentProps","mode","presentingElement","nativeEl","present","modalResult","onWillDismiss","action","SignModal","update","list","forEach","uid","push","changeReceiptDate","event","createListReceipt","length","showAlert","getMonthName","dismiss","communities","readCommunityList","readOnlyResidents","lastNumber","lastReceiptNumber","listBills","i","bill","generateReceipt","receiptProgress","UpdateCommunity","toUpperCase","eraseBills","item","eraseBill","checkList","List","readAllReceiptList","sort","a","b","receiptNumber","selector","template","Input","AttachmentsService","HapticsService","ProfileDetailComponent","images","vibe","CI","photo","email","phonePersonal","phoneHome","phoneWork","name","secondName","lastName","secondLastName","birthDate","type","myCurrentUser","editUser","editUserForm","CIListener","e","detail","value","emailListener","ValidateEmail","alertEmail","phonePersonalListener","phoneHomeListener","phoneWorkListener","nameListener","secondNameListener","lastNameListener","secondLastNameListener","showCalendar1","showCalendar","changeScheduleTime","typeHandler","addPhoto","options","currentRoute","height","width","pdf","presentImageOptions","imageObj","undefined","newImage","sendData","missingData","show","createUser","updateUser","title","text","button","newReceipts","editSpaces","validRegex","match","Router","UserController","AssignSpaceComponent","LoaderDataService","UserListComponent","router","userCtrl","call","loadUsers","catch","Promise","resolve","reject","userList","readAllUsers","loadItems","sortByName","loadUser","userDetail","navigateByUrl","admin","userData","doRefresh","refresh","done","target","complete","newUser","newUserModal"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}