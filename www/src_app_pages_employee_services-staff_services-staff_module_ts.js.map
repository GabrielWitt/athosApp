{"version":3,"file":"src_app_pages_employee_services-staff_services-staff_module_ts.js","mappings":"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","sources":["./src/app/pages/employee/services-staff/calendar-orders/calendar-orders.component.ts","./src/app/pages/employee/services-staff/services-orders/services-orders.component.ts","./src/app/pages/employee/services-staff/services-staff-routing.module.ts","./src/app/pages/employee/services-staff/services-staff.module.ts","./src/app/pages/employee/services-staff/services-staff.page.ts","./src/app/pages/employee/services-staff/ticket-orders/ticket-orders.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ServicesController } from 'src/app/core/controller/services.controller';\nimport { CalendarItem } from 'src/app/core/models/calendar';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\nimport { RequestsService } from 'src/app/core/services/modules/requests.service';\n\n@Component({\n  selector: 'app-calendar-orders',\n  templateUrl: './calendar-orders.component.html',\n  styleUrls: ['./calendar-orders.component.scss'],\n})\nexport class CalendarOrdersComponent implements OnInit {\n  calendarItems: CalendarItem[] = [];\n  currentUser: UserFormData;\n  loading = false;\n  filterSelected: '>'|'<' = '>'\n\n  filterItems = [\n    {name: 'PrÃ³ximas',filter: '>'},\n    {name: 'Pasadas',filter: '<'}\n  ]\n  constructor(\n    private requests: RequestsService,\n    public auth: FireAuthService\n  ) { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { UserController } from 'src/app/core/controller/user.controller';\nimport { ServicesController } from 'src/app/core/controller/services.controller';\nimport { NewRequestComponent } from 'src/app/shared/components/services/new-request/new-request.component';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\n\n@Component({\n  selector: 'app-services-orders',\n  templateUrl: './services-orders.component.html',\n  styleUrls: ['./services-orders.component.scss'],\n})\nexport class ServicesOrdersComponent implements OnInit {\n  user: UserFormData\n  loading = false;\n  defaultSpace = '../../../../../assets/blueprint.png';\n\n  constructor(\n    public services: ServicesController,\n    public auth: FireAuthService,\n    private routerOutlet: IonRouterOutlet,\n    public modal: ModalController\n  ) { }\n\n  ngOnInit() { \n    this.auth.getUser().then((user: any) =>{\n      this.user = user.data;\n    });\n  }\n\n  async doRefresh(refresh?){\n    this.loading = true;\n    this.services.loadServices(this.user.type)\n    .then(() => { \n      this.loading = false;\n      if (refresh){ refresh.target.complete(); }\n    });\n  }\n\n  showCost(space){\n    if(space.rent){return space.rentData.cost + \"$\"; }\n    else{ return 'Gratis'; }\n  }\n\n  async pickService(request, service){\n    const modalCreate = await this.modal.create({\n      component: NewRequestComponent,\n      componentProps: {service, request, currentUser: this.user },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modalCreate.present();\n    const modalResult2 = await modalCreate.onWillDismiss();\n    console.log(modalResult2);\n    if(modalResult2.data){  this.services.changeTab('maintenance') }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ServicesStaffPage } from './services-staff.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ServicesStaffPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ServicesStaffPageRoutingModule {}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ServicesStaffPageRoutingModule } from './services-staff-routing.module';\n\nimport { ServicesStaffPage } from './services-staff.page';\nimport { CalendarOrdersComponent } from './calendar-orders/calendar-orders.component';\nimport { ServicesOrdersComponent } from './services-orders/services-orders.component';\nimport { TicketOrdersComponent } from './ticket-orders/ticket-orders.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    ServicesStaffPageRoutingModule\n  ],\n  declarations: [\n    ServicesStaffPage,\n    CalendarOrdersComponent,\n    ServicesOrdersComponent,\n    TicketOrdersComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class ServicesStaffPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { UserController } from 'src/app/core/controller/user.controller';\n\n@Component({\n  selector: 'app-services-staff',\n  templateUrl: './services-staff.page.html',\n  styleUrls: ['./services-staff.page.scss'],\n})\nexport class ServicesStaffPage implements OnInit {\n  selectedTab = 'request'\n\n  constructor(public userCtrl: UserController) { }\n\n  ngOnInit() {\n  }\n\n  segmentChanged(ev: any) {\n    this.selectedTab = ev.detail.value;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { UserController } from 'src/app/core/controller/user.controller';\nimport { NewRequestComponent } from 'src/app/shared/components/services/new-request/new-request.component';\nimport { PickServiceComponent } from 'src/app/shared/components/services/pick-service/pick-service.component';\nimport { UsersService } from 'src/app/core/services/modules/users.service';\nimport { RequestsService } from 'src/app/core/services/modules/requests.service';\n\n@Component({\n  selector: 'app-ticket-orders',\n  templateUrl: './ticket-orders.component.html',\n  styleUrls: ['./ticket-orders.component.scss'],\n})\nexport class TicketOrdersComponent implements OnInit {\n  loading = true;\n  user: UserFormData;\n  itemList = []\n  users: UserFormData[];\n\n  constructor(\n    private modal: ModalController,\n    private requests: RequestsService,\n    private userService: UsersService,\n    private userCtrl: UserController,\n    private routerOutlet: IonRouterOutlet,\n  ) { }\n\n  ngOnInit() {\n    this.loadData();\n  }\n\n  async loadData() {\n    const userData:any = await this.userCtrl.loadUser();\n    this.user = userData.data;\n    this.users = await this.userService.readAllUsers();\n    this.itemList = await this.requests.readRequestListOrder();\n    this.loading = false;\n    return this.user\n  }\n\n  async doRefresh(refresh?){\n    await this.loadData();\n    if (refresh){ refresh.target.complete(); }\n  }\n\n  async createRequest(){\n    const modalService = await this.modal.create({\n      component: PickServiceComponent,\n      componentProps:{user:this.user},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modalService.present();\n    const modalResult1 = await modalService.onWillDismiss();\n    if(modalResult1.data){ this.openRequest(null,modalResult1.data)\n    }\n  }\n\n  async openRequest(request, service){\n    const modalCreate = await this.modal.create({\n      component: NewRequestComponent,\n      componentProps: {service, request, currentUser: this.user, users: this.users },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modalCreate.present();\n    const modalResult2 = await modalCreate.onWillDismiss();\n    console.log(modalResult2);\n    if(modalResult2.data){ this.loadData()}\n  }\n\n}\n\n"],"names":["Component","IonRouterOutlet","ModalController","ServicesController","NewRequestComponent","FireAuthService","ServicesOrdersComponent","constructor","services","auth","routerOutlet","modal","ngOnInit","getUser","then","user","data","doRefresh","refresh","loading","loadServices","type","target","complete","showCost","space","rent","rentData","cost","pickService","request","service","modalCreate","create","component","componentProps","currentUser","mode","presentingElement","nativeEl","present","modalResult2","onWillDismiss","console","log","changeTab","selector","template","UserController","PickServiceComponent","UsersService","RequestsService","TicketOrdersComponent","requests","userService","userCtrl","loadData","userData","loadUser","users","readAllUsers","itemList","readRequestListOrder","createRequest","modalService","modalResult1","openRequest"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}