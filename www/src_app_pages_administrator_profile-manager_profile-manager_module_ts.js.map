{"version":3,"file":"src_app_pages_administrator_profile-manager_profile-manager_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEK;AAE5D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qEAAkB;KAC9B;CACF,CAAC;IAMW,+BAA+B,SAA/B,+BAA+B;CAAG;AAAlC,+BAA+B;IAJ3C,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,+BAA+B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBH;AACM;AACmB;AAErB;AAEsC;AAEvB;AACA;IAc/C,wBAAwB,SAAxB,wBAAwB;CAAG;AAA3B,wBAAwB;IAZpC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,sEAAY;YACZ,+DAAmB;YACnB,4FAA+B;YAC/B,sEAAY;SACb;QACD,YAAY,EAAE,CAAC,qEAAkB,CAAC;KACnC,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBrC;AACA;AAEA;AACA;AACA;IAQaK,kBAAkB,SAAlBA,kBAAkB;EAS7BC,YACSC,QADT,EAEUC,MAFV,EAGUC,MAHV,EAIUC,YAJV,EAIuC;IAH9B;IACC;IACA;IACA;IAZV,eAAU,KAAV;IACA,YAAO,KAAP;IAIA,gBAAS,CAAT;IACA,mBAAc,6CAAd;EAOK;;EAELC,QAAQ;IACN,KAAKC,QAAL;EACD;;EAEDC,gBAAgB,IACf;;EAEDD,QAAQ;IACN,KAAKL,QAAL,CAAcK,QAAd,GAAyBE,IAAzB,CAA+BC,IAAD,IAAa;MACzCC,OAAO,CAACC,GAAR,CAAYF,IAAZ;MACA,KAAKG,IAAL,GAAYH,IAAI,CAACG,IAAjB;MACA,KAAKC,WAAL,GAAmBJ,IAAI,CAACA,IAAxB;IACD,CAJD;EAKD;;EAEDK,QAAQ;IAAA;;IACN,MAAMC,OAAO,GAAsB;MACjCC,YAAY,EAAE,iBADmB;MAEjCC,MAAM,EAAC,IAF0B;MAEpBC,KAAK,EAAC,IAFc;MAERC,GAAG,EAAE;IAFG,CAAnC;IAIA,KAAKhB,MAAL,CAAYiB,mBAAZ,CAAgCL,OAAhC,EAAyCP,IAAzC;MAAA,uKAA8C,WAAMa,QAAN,EAAiB;QAC7D,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgBC,SAApB,EAA8B;UAC5B,KAAI,CAACC,OAAL,GAAe,IAAf;UACA,KAAI,CAACC,QAAL,GAAgBH,QAAQ,CAAC,CAAD,CAAxB;;UACA,KAAI,CAACpB,QAAL,CAAcwB,kBAAd,CAAiCJ,QAAQ,CAAC,CAAD,CAAzC,EAA+CK,MAAD,IAAY,KAAI,CAACC,QAAL,GAAgBD,MAA1E,EACClB,IADD,CACM,MAAI;YACR,KAAI,CAACN,MAAL,CAAY0B,SAAZ,CAAsB,QAAtB,EAA+B,0CAA/B,EAA0E,IAA1E;;YACA,KAAI,CAACJ,QAAL,GAAgB,IAAhB;YACA,KAAI,CAACD,OAAL,GAAe,KAAf;UACD,CALD,EAMCM,KAND,CAMO,MAAI;YACTnB,OAAO,CAACC,GAAR,CAAY,wBAAZ;YACA,KAAI,CAACY,OAAL,GAAe,KAAf;UACD,CATD;QAUD;MACF,CAfD;;MAAA;QAAA;MAAA;IAAA;EAgBD;;EAEDO,QAAQ,IAAI;;AAtDiB;;;QARtBhC,mFAAcA;;QAJdH,0EAAaA;;QAEbC,4FAAkBA;;QAClBC,2DAAeA;;;AASXE,kBAAkB,sDAL9BL,wDAAS,CAAC;EACTqC,QAAQ,EAAE,qBADD;EAETC,UAAAA,kEAFS;;AAAA,CAAD,CAKqB,GAAlBjC,kBAAkB,CAAlB","sources":["./src/app/pages/administrator/profile-manager/profile-manager-routing.module.ts","./src/app/pages/administrator/profile-manager/profile-manager.module.ts","./src/app/pages/administrator/profile-manager/profile-manager.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfileManagerPage } from './profile-manager.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfileManagerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfileManagerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfileManagerPageRoutingModule } from './profile-manager-routing.module';\n\nimport { ProfileManagerPage } from './profile-manager.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    ReactiveFormsModule,\n    ProfileManagerPageRoutingModule,\n    SharedModule\n  ],\n  declarations: [ProfileManagerPage]\n})\nexport class ProfileManagerPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertsService } from 'src/app/shared/utilities/alerts';\nimport { attachmentOptions } from 'src/app/core/models/images';\nimport { AttachmentsService } from 'src/app/shared/utilities/attachments.service';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { UserController } from 'src/app/core/controller/user.controller';\nimport { User, UserFormData } from 'src/app/core/models/user';\n\n@Component({\n  selector: 'app-profile-manager',\n  templateUrl: './profile-manager.page.html',\n  styleUrls: ['./profile-manager.page.scss'],\n})\nexport class ProfileManagerPage implements OnInit {\n  loading = false;\n  edit = false;\n  user: User;\n  currentUser: UserFormData;\n  newImage;\n  progress=0;\n  defaultUser = '../../../../assets/profile/ProfileBlank.png';\n\n  constructor(\n    public userCtrl: UserController,\n    private alerts: AlertsService,\n    private images: AttachmentsService,\n    private routerOutlet: IonRouterOutlet,\n  ) { }\n\n  ngOnInit(){\n    this.loadUser();\n  }\n\n  ionViewWillEnter(){\n  }\n\n  loadUser(){\n    this.userCtrl.loadUser().then((data:any) => {\n      console.log(data)\n      this.user = data.user;\n      this.currentUser = data.data;\n    })\n  }\n\n  addPhoto() {\n    const options: attachmentOptions = {\n      currentRoute: 'manager/profile',\n      height:null, width:null, pdf: false\n    }\n    this.images.presentImageOptions(options).then(async imageObj => {\n      if (imageObj[0] !== undefined){\n        this.loading = true;\n        this.newImage = imageObj[0];\n        this.userCtrl.changeProfileImage(imageObj[0], (upload) => this.progress = upload)\n        .then(()=> {\n          this.alerts.showAlert('PERFIL','Tus imagen de perfil ha sido actualizada','OK');\n          this.newImage = null;\n          this.loading = false;\n        })\n        .catch(()=> {\n          console.log('Error: uploading image');\n          this.loading = false;\n        })\n      }\n    });\n  }\n\n  editForm(){}\n\n}"],"names":["Component","AlertsService","AttachmentsService","IonRouterOutlet","UserController","ProfileManagerPage","constructor","userCtrl","alerts","images","routerOutlet","ngOnInit","loadUser","ionViewWillEnter","then","data","console","log","user","currentUser","addPhoto","options","currentRoute","height","width","pdf","presentImageOptions","imageObj","undefined","loading","newImage","changeProfileImage","upload","progress","showAlert","catch","editForm","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}