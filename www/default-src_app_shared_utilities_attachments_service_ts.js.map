{"version":3,"file":"default-src_app_shared_utilities_attachments_service_ts.js","mappings":"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","sources":["./src/app/shared/utilities/attachments.service.ts","./node_modules/@capacitor/camera/dist/esm/definitions.js","./node_modules/@capacitor/camera/dist/esm/index.js"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Capacitor } from '@capacitor/core';\nimport { ActionSheetController } from '@ionic/angular';\nimport { Chooser } from '@awesome-cordova-plugins/chooser/ngx';\nimport { Filesystem, ReadFileResult } from '@capacitor/filesystem';\nimport { Camera, CameraDirection, ImageOptions, CameraResultType, CameraSource, GalleryImageOptions, GalleryPhotos } from '@capacitor/camera';\nimport { attachmentOptions, UserPhoto } from 'src/app/core/models/images';\nimport { AlertsService } from './alerts';\nimport { ImageUploaderService } from 'src/app/core/services/image-uploader.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AttachmentsService {\n  imgHeight = undefined;\n  imgWidth = undefined;\n  currentRoute: string = '';\n  image: string;\n  base64Str: any;\n  photo: UserPhoto[] = [];\n  data: any;\n  limit = 1;\n  DemoPDF = 'data:application/pdf;base64,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686t5r5I8UmpS5lPDUo9lLqYFpXWno5Lj08/wZPhpfL6MlQzVmcMZRpmFmaOrrJftWfVLN+f35QFZS3P6hZQRT9TA0I94RbhWLZTdk32m5zInOOrpVfzVg/kGuRuz51c47Xm67Wotay1vXnqeZvyxta5rqtfD61PWN+7QXNDwYaJjd4bD28ibErd9EO+WX5Z/qvNUZt7ClQKNhaMb/He0looUcgvvL3VYWvdNtQ27rbB7Zbbq7Z/LGIXXSk2K64ofl/CKrnylflXlV8t7kjcMVhqU7p/J2Ynb+fILuddh8uky9aUje8O3N1ZTi8vKn+1Z+WeyxVWFXV7CXuFe0crAyq7q7Sqdla9r06uHq5xq2mvVa7dXju/j73vxn6X/W11KnXFde8OcA/cqfeu72zQaag4iDmYffBJY2Rj/9eMr5ubFJuKmz4c4h0aPRx6uK/Ztrm5RbmltBVuFbZOH4k7cv0bj2+624zb6ttp7cVHwVHh0affxn87csz/WO9xxvG277S/q+2gdBR1Qp25nbNdyV2j3THdQyf8TvT2OPR0fG/y/aGT6idrTsmeKj1NOF1wevHMmjNzZzPPzpxLOjfeu7L3/vno87f6QvoGL/hfuHTR6+L5ftf+M5ccL528bH/5xBXGla6rNlc7B6wHOn6w/qFj0Gaw85rtte7rdtd7hpYMnb7hfOPcTY+bF2/53ro6vHR4aCRi5M7tuNujd9h3pu6m3X1xL/vewv2ND9APih5KPax4pPyo4Uf9H9tHbUZPjXmMDTwOe3x/nDX+7Kesn95PFDwhP6mYVJtsnrKYOjntNX396bKnE88yny3MFP4s/XPtc73n3/3i8svAbPTsxAv+i8VfS14qvDz0yupV71zw3KPX6a8X5oveKLw5/Jbxtv9d1LvJhZz32PeVH/Q/9Hz0//hgMX1x8V/3hPP7y2IJQQplbmRzdHJlYW0KZW5kb2JqCjMgMCBvYmoKPDwKPj4gZW5kb2JqCjkgMCBvYmoKPDwKL0Jhc2VGb250IC9IZWx2ZXRpY2EgCi9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIAovU3VidHlwZSAvVHlwZTEgCi9UeXBlIC9Gb250IAovTmFtZSAvSGVsdiAKPj4gZW5kb2JqCjEwIDAgb2JqCjw8Ci9DcmVhdGlvbkRhdGUgKEQ6MjAwODA2MTExNjU2MDMpIAovTW9kRGF0ZSAoRDoyMDA4MDYxMTE2NTYwMykgCi9Qcm9kdWNlciAoSWJleCBQREYgQ3JlYXRvciA0LjMuNi40LzUwMjUgWy5ORVQgMi4wXSkgCj4+IGVuZG9iagp4cmVmCjAgMTEKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwNjE2IDAwMDAwIG4gCjAwMDAwMDA1NTYgMDAwMDAgbiAKMDAwMDAwMzQyNCAwMDAwMCBuIAowMDAwMDAwNzA2IDAwMDAwIG4gCjAwMDAwMDA3NDEgMDAwMDAgbiAKMDAwMDAwMDIxNSAwMDAwMCBuIAowMDAwMDAwNDgwIDAwMDAwIG4gCjAwMDAwMDAwMjAgMDAwMDAgbiAKMDAwMDAwMzQ0NSAwMDAwMCBuIAowMDAwMDAzNTU5IDAwMDAwIG4gCnRyYWlsZXIKPDwKL1NpemUgMTEgCi9JbmZvIDEwIDAgUiAgCi9Sb290IDEgMCBSIAo+PgpzdGFydHhyZWYKMzY5OAolJUVPRgo='\n\n  // Buttons Available\n  CameraButton = {\n    text: 'Camera',\n    icon: 'camera-outline',\n    handler: () => {\n      return new Promise((resolve,error) => {\n        this.getCameraImage().then((image: UserPhoto) => {\n          this.photo.push(image);\n          resolve(true);\n        }).catch(e => { error(e);});\n      });\n    }\n  }\n\n  GalleryButton = {\n    text: 'Gallery',\n    icon: 'image-outline',\n    handler: () => {\n      return new Promise((resolve,error) => {\n        this.getGalleryImage().then((image: UserPhoto[]) => {\n          this.photo = image;\n          resolve(true);\n        }).catch(e => { error(e);});\n      });\n    }\n  }\n\n  PDFButton = {\n    text: 'PDF',\n    icon: 'document-attach-outline',\n    handler: () => {\n      return new Promise((resolve,error) => {\n        this.pickPdf().then(async (PDF: UserPhoto) => {\n          if (PDF.webPath === 'false'){\n            error('false');\n          }else{\n            this.photo.push(PDF);\n            resolve(true);\n          }\n        }).catch(e => { error(e);});\n      });\n    }\n  }\n\n  CancelButton = {\n    text: 'Cancel',\n    icon: 'close',\n    role: 'cancel',\n    handler: () => {\n      this.actionSheetController.dismiss();\n      return false;\n    }\n  }\n\n  cameraButtons = [ this.CameraButton, this.GalleryButton, this.CancelButton ]\n  pdfButtons = [ this.CameraButton, this.GalleryButton, this.PDFButton, this.CancelButton ]\n\n  constructor(\n    private router: Router,\n    private documents: Chooser,\n    private alerts: AlertsService,\n    private processor: ImageUploaderService,\n    public actionSheetController: ActionSheetController,\n  ){}\n\n  public async loadSaved(){ return await this.processor.loadSaved()}\n  public async deletePicture(){ return await this.processor.deletePicture()}\n\n  async presentImageOptions(options: attachmentOptions): Promise<any> {\n    this.processor.deletePicture();\n    this.imgHeight = options.height ? options.height : undefined;\n    this.imgWidth = options.width ? options.width : undefined;\n    this.limit = options.limit ? options.limit : 1;\n    this.data = options.data ? options.data : null;\n    this.currentRoute = this.router.url;\n    this.photo = []; let buttons = [];\n\n    if (options.pdf){ buttons = this.pdfButtons;} \n    else{ buttons = this.cameraButtons; }\n\n    const actionSheet = await this.actionSheetController\n    .create({ header: 'Take image from:', buttons:  buttons });\n    await actionSheet.present();\n    return actionSheet.onDidDismiss().then( data => {\n      this.imgHeight = undefined;\n      this.imgWidth = undefined;\n      this.currentRoute = '';\n      return this.photo;\n    });\n  }\n\n  public async getCameraImage() {\n    return new Promise(async (resolve,error) => {\n      const OPTIONS: ImageOptions = {\n        source: CameraSource.Camera, direction: CameraDirection.Rear,\n        resultType : CameraResultType.Base64, quality: 100,\n        saveToGallery: true, allowEditing: true,  promptLabelCancel: 'Cancel'\n      };\n      Camera.getPhoto(OPTIONS).then(capturedPhoto => {\n        const img = 'data:image/jpeg;base64,' + capturedPhoto.base64String;\n        this.processor.savePictures([{file: null, webPath: img}], this.data, this.currentRoute, 'Base64');\n        this.processor.generateBlob(img).then(savedImageFile => {\n          resolve({file: savedImageFile, webPath: img});\n        });\n      }).catch(e => error(e));\n    });\n  }\n\n  public async getGalleryImage() {\n    return new Promise(async (resolve,error) => {\n      const OPTIONS: GalleryImageOptions = { limit: this.limit };\n      Camera.pickImages(OPTIONS).then(async (capturedPhotos: GalleryPhotos) => {\n        let photos = [];\n        this.saveGallery(capturedPhotos.photos);\n        for(let image of capturedPhotos.photos){\n          let contents: ReadFileResult = await Filesystem.readFile({path: image.path});\n          const img = 'data:image/jpeg;base64,' + contents.data;\n          await this.processor.generateBlob(img).then(savedImageFile => {\n            photos.push({file: savedImageFile, webPath: img});\n          });\n        }\n        resolve(photos);\n      }).catch(e => { console.log(e); error(e) });\n    });\n  }\n\n  pickPdf(){\n    return new Promise(async (resolve) => {\n      if(Capacitor.getPlatform() === 'web'){\n\n      this.alerts.AlertConfirm('PDF', 'Upload pdf?').then(answer => {\n        if (answer){\n          this.processor.savePictures([{file: null, webPath: this.DemoPDF, pdf: 'TestPDF.pdf'}], this.data, this.currentRoute, 'PDF');\n          this.processor.generateBlob(this.DemoPDF).then(savedImageFile => {\n            resolve({file: savedImageFile, webPath: this.DemoPDF, type: 'PDF', pdf: 'TestPDF.pdf'});\n          }).catch((e) => { console.log('generateBlob'); console.error(e); resolve({webPath:false});  });\n        } else {\n          console.log('cancelPDF'); resolve({webPath:false});\n        }\n\n      })\n      } else {\n        this.documents.getFile('application/pdf').then(file => {\n          const base64String = file.dataURI;\n          this.processor.savePictures([{file: null, webPath: file.dataURI, pdf: file.name}], this.data, this.currentRoute, 'PDF');\n          this.processor.generateBlob(base64String).then(savedImageFile => {\n            resolve({file: savedImageFile, webPath: base64String, type: 'PDF', pdf: file.name});\n          }).catch((e) => { console.log('generateBlob'); console.error(e); resolve({webPath:null});  });\n        }).catch((error: any) => {console.log('getFile');console.error(error);resolve({webPath:false});});\n      }\n    })\n  }\n\n  saveGallery(photoList: any[]){\n    let photos: UserPhoto[] = [];\n    photoList.forEach(image => { photos.push({file: null, webPath: image.path}); })\n    this.processor.savePictures(photos, this.data, this.currentRoute, 'Filesystem');\n  }\n\n}\n","export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo from the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n","import { registerPlugin } from '@capacitor/core';\nconst Camera = registerPlugin('Camera', {\n    web: () => import('./web').then(m => new m.CameraWeb()),\n});\nexport * from './definitions';\nexport { Camera };\n"],"names":["Injectable","Router","Capacitor","ActionSheetController","Chooser","Filesystem","Camera","CameraDirection","CameraResultType","CameraSource","AlertsService","ImageUploaderService","AttachmentsService","constructor","router","documents","alerts","processor","actionSheetController","undefined","text","icon","handler","Promise","resolve","error","getCameraImage","then","image","photo","push","catch","e","getGalleryImage","pickPdf","PDF","webPath","role","dismiss","CameraButton","GalleryButton","CancelButton","PDFButton","loadSaved","deletePicture","presentImageOptions","options","imgHeight","height","imgWidth","width","limit","data","currentRoute","url","buttons","pdf","pdfButtons","cameraButtons","actionSheet","create","header","present","onDidDismiss","OPTIONS","source","direction","Rear","resultType","Base64","quality","saveToGallery","allowEditing","promptLabelCancel","getPhoto","capturedPhoto","img","base64String","savePictures","file","generateBlob","savedImageFile","pickImages","capturedPhotos","photos","saveGallery","contents","readFile","path","console","log","getPlatform","AlertConfirm","answer","DemoPDF","type","getFile","dataURI","name","photoList","forEach","providedIn","registerPlugin","web","m","CameraWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[1,2]}