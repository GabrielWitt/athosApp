{"version":3,"file":"src_app_pages_administrator_reservations-manager_reservations-manager_module_ts.js","mappings":"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","sources":["./src/app/pages/administrator/reservations-manager/community-admin/community-admin.component.ts","./src/app/pages/administrator/reservations-manager/reservation-admin/reservation-admin.component.ts","./src/app/pages/administrator/reservations-manager/reservations-manager-routing.module.ts","./src/app/pages/administrator/reservations-manager/reservations-manager.module.ts","./src/app/pages/administrator/reservations-manager/reservations-manager.page.ts","./src/app/pages/administrator/reservations-manager/spaces-admin/spaces-admin.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { attachmentOptions } from 'src/app/core/models/images';\nimport { Community } from 'src/app/core/models/spaces';\nimport { ImageUploaderService } from 'src/app/core/services/image-uploader.service';\nimport { SpacesService } from 'src/app/core/services/modules/spaces.service';\nimport { AlertsService } from 'src/app/shared/utilities/alerts';\nimport { AttachmentsService } from 'src/app/shared/utilities/attachments.service';\n\n@Component({\n  selector: 'app-community-admin',\n  templateUrl: './community-admin.component.html',\n  styleUrls: ['./community-admin.component.scss'],\n})\nexport class CommunityAdminComponent implements OnInit {\n  defaultUser = '../../../../../assets/Athos.png';\n  communitiesList;\n  myCommunity: Community;\n  loading = true;\n  edit = false;\n\n  newImage\n  uploading = 0;\n\n  constructor(\n    private spaces: SpacesService,\n    private alerts: AlertsService,\n    private images: AttachmentsService,\n    private upload: ImageUploaderService,\n  ) { }\n\n  ngOnInit() {\n    this.loadData();\n  }\n\n  async loadData(){\n    this.loading = true;\n    await this.spaces.readCommunityList()\n    .then((communities: any) => { \n      this.communitiesList = communities;\n      this.myCommunity = this.communitiesList[0];\n      console.log(this.myCommunity);\n      this.loading = false;\n     })\n  }\n\n  async doRefresh(refresh?){\n    await this.loadData()\n    if (refresh){ refresh.target.complete(); }\n  }\n\n  editCommunity(){\n    this.edit = true;\n  }\n\n  cancelEditCommunity(){\n    this.edit = false;\n    this.myCommunity = this.communitiesList[0];\n  }\n\n  nameListener(e){ this.myCommunity.name = e.detail.value }\n\n  addressListener(e){ this.myCommunity.address = e.detail.value }\n  \n  zipCodeListener(e){ this.myCommunity.zipCode = e.detail.value }\n\n  cityListener(e){ this.myCommunity.city = e.detail.value }\n\n  stateListener(e){ this.myCommunity.state = e.detail.value }\n\n  countryListener(e){ this.myCommunity.country = e.detail.value }\n\n  handleChange(e){this.myCommunity.propertyType = e.detail.value}\n\n  updateCommunity(){\n    this.loading = true;\n    this.spaces.UpdateCommunity(this.myCommunity).then((data:Community)=> {\n      this.myCommunity = data;\n      this.loading = false;\n    })\n  }\n\n  addPhoto() {\n    const options: attachmentOptions = {\n      currentRoute: 'manager/profile',\n      height:null, width:null, pdf: false\n    }\n    this.images.presentImageOptions(options).then(async imageObj => {\n      if (imageObj[0] !== undefined){\n        this.loading = true;\n        try {\n          this.newImage = imageObj[0];\n          const imageName = Date().toString()+'_'+this.myCommunity.uid;\n          this.upload.uploadFile('profile',imageName, this.newImage.file,\n          (progress)=>{ this.uploading = progress })\n          .then((data:any) => {\n            this.upload.deletePicture();\n            this.myCommunity.photo = data.url;\n            this.spaces.UpdateCommunity(this.myCommunity).then((data:Community)=> {\n              this.myCommunity = data;\n              this.alerts.showAlert('PERFIL','Tus imagen de perfil ha sido actualizada','OK');\n              this.newImage = null;\n              this.loading = false;\n            })\n          })\n        } catch (error) {\n          console.log(error);\n          console.log('Error: uploading image');\n          this.loading = false;\n        }\n      }\n    });\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { Space } from 'src/app/core/models/spaces';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\nimport { ReservationsService } from 'src/app/core/services/modules/reservations.service';\nimport { UsersService } from 'src/app/core/services/modules/users.service';\nimport { NewReservationComponent } from 'src/app/shared/components/spaces/new-reservation/new-reservation.component';\nimport { PickRentSpaceComponent } from 'src/app/shared/components/spaces/pick-rent-space/pick-rent-space.component';\n\n@Component({\n  selector: 'app-reservation-admin',\n  templateUrl: './reservation-admin.component.html',\n  styleUrls: ['./reservation-admin.component.scss'],\n})\nexport class ReservationAdminComponent implements OnInit {\n  loading = true;\n  itemList = [];\n  rentSpacesList: Space[]=[]\n  users: UserFormData[];\n  user: UserFormData;\n  filterSelected: '>'|'<' = '>'\n\n  filterItems = [\n    {name: 'Próximas',filter: '>'},\n    {name: 'Pasadas',filter: '<'}\n  ]\n\n  constructor(\n    private modal: ModalController,\n    private auth: FireAuthService,\n    private userServ: UsersService,\n    private request: ReservationsService,\n    private routerOutlet: IonRouterOutlet\n  ) { }\n\n  ngOnInit() {\n    this.loading = true;\n    this.loadData().then(user => {\n      this.loading = false;\n    })\n  }\n\n  async loadData() {\n    const userData:any = await this.auth.getUser();\n    this.user = userData.data;\n    this.itemList = await this.request.readReservationsListOrderRent(\"startDate\",new Date().toISOString(),this.filterSelected);\n    return this.user\n  }\n\n  filterChange(e){\n    this.filterSelected = e.detail.value;\n    this.loadData();\n  }\n\n  async doRefresh(refresh?){\n    // load \n    await this.loadData();\n    if (refresh){ refresh.target.complete(); }\n  }\n\n  async createReservation(){\n    const modalPick = await this.modal.create({\n      component: PickRentSpaceComponent,\n      componentProps: {reservation: null, user: this.user },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modalPick.present();\n    const modalResult1 = await modalPick.onWillDismiss();\n    if(modalResult1.data){ this.openReservation(null,modalResult1.data)\n    }\n  }\n\n  async openReservation(reservation,space){\n    this.users = await this.userServ.readOnlyResidents();\n    const modalCreate = await this.modal.create({\n      component: NewReservationComponent,\n      componentProps: {reservation, space, currentUser: this.user, users: this.users },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modalCreate.present();\n    const modalResult2 = await modalCreate.onWillDismiss();\n    if(modalResult2.data){ this.loadData()}\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReservationsManagerPage } from './reservations-manager.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReservationsManagerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReservationsManagerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReservationsManagerPageRoutingModule } from './reservations-manager-routing.module';\n\nimport { ReservationsManagerPage } from './reservations-manager.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { SpacesAdminComponent } from './spaces-admin/spaces-admin.component';\nimport { ReservationAdminComponent } from './reservation-admin/reservation-admin.component';\nimport { CommunityAdminComponent } from './community-admin/community-admin.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    ReservationsManagerPageRoutingModule\n  ],\n  declarations: [\n    ReservationsManagerPage,\n    SpacesAdminComponent,\n    ReservationAdminComponent,\n    CommunityAdminComponent\n  ]\n})\nexport class ReservationsManagerPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { UserController } from 'src/app/core/controller/user.controller';\n\n@Component({\n  selector: 'app-reservations-manager',\n  templateUrl: './reservations-manager.page.html',\n  styleUrls: ['./reservations-manager.page.scss'],\n})\nexport class ReservationsManagerPage implements OnInit {\n  selectedTab = 'reservations';\n\n  constructor(public userCtrl: UserController) { }\n\n  ngOnInit() {}\n\n  segmentChanged(ev: any) {\n    this.selectedTab = ev.detail.value;\n  }\n\n}","import { Component, OnInit } from '@angular/core';\nimport { UserFormData } from 'src/app/core/models/user';\nimport { AlertsService } from 'src/app/shared/utilities/alerts';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\nimport { NewSpaceComponent } from 'src/app/shared/components/spaces/new-space/new-space.component';\nimport { SpacesService } from 'src/app/core/services/modules/spaces.service';\nimport { TimeHandlerModule } from 'src/app/shared/utilities/time-handler';\nimport { Space } from 'src/app/core/models/spaces';\nimport { UsersService } from 'src/app/core/services/modules/users.service';\n\n@Component({\n  selector: 'app-spaces-admin',\n  templateUrl: './spaces-admin.component.html',\n  styleUrls: ['./spaces-admin.component.scss'],\n})\nexport class SpacesAdminComponent implements OnInit {\n  loading = true;\n  itemList: Space[] = []\n  user: UserFormData;\n\n  filterSelected = 'Todos';\n  filterItems = ['Todos','oficina','vivienda' , 'parqueo' , 'recepción' , 'bodega' , 'salón' , 'tienda' , 'terraza']\n\n  constructor(\n    private modal: ModalController,\n    private users: UsersService,\n    private auth: FireAuthService,\n    private spaces: SpacesService,\n    private routerOutlet: IonRouterOutlet\n  ) { }\n\n  ngOnInit() {\n    this.loading = true;\n    this.loadData().then(user => {\n      this.loading = false;\n      // this.loadUsers();\n    })\n  }\n\n  async loadData(reload?) {\n    try {\n      let list: Space[] = [];\n      const userData:any = await this.auth.getUser();\n      if(this.filterSelected === 'Todos'){\n        list = await this.spaces.readSpacesListOrder();\n      }else{\n        list = await this.spaces.readSpacesListOrderType(this.filterSelected);\n      }\n      if(reload){\n        if(list.length>0 && list.length < this.itemList.length){\n          list.forEach(newItem => {\n            let found = false;\n            this.itemList.forEach(item => {\n              if(newItem.uid === item.uid){ item = newItem; found= true;}\n            })\n            if(!found)(this.itemList.push(newItem));\n          })\n        }else{ this.itemList = list;}\n      }else{ this.itemList = list;}\n      this.user = userData.data;\n      return this.user\n    } catch (error) {\n      console.log(error)\n      this.loading = false;\n    }\n  }\n\n  async doRefresh(refresh?){\n    await this.loadData()\n    if (refresh){ refresh.target.complete(); }\n  }\n\n\n  filterChange(e) { \n    this.filterSelected = e.detail.value;\n    this.loadData();\n  }\n\n  async createSpace(){\n    const modal = await this.modal.create({\n      component: NewSpaceComponent,\n      componentProps: {space: null, user: this.user },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    console.log(modalResult);\n    if(modalResult.data){ this.loadData(true);}\n  }\n\n  async detailSpace(space){\n    const modal = await this.modal.create({\n      component: NewSpaceComponent,\n      componentProps: {space, user: this.user },\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.loadData(true);}\n  }\n\n  loadUsers(){\n    this.users.readAllUsers()\n    .then(list => { \n      const unitlist = [...this.itemList];\n      console.log(list)\n      list.forEach(user => {\n        if(user.leases?.length>0){\n          user.leases.forEach(lease => {\n            unitlist.forEach(async space => {\n              if(lease.spaceLease.uid === space.uid){\n                const updatedSpace:Space = {...space, lease: lease}\n                await this.spaces.UpdateSpaces(updatedSpace)\n                console.log(updatedSpace)\n              }\n            })\n          })\n        }\n      } )\n    })\n  }\n}\n"],"names":["Component","ImageUploaderService","SpacesService","AlertsService","AttachmentsService","CommunityAdminComponent","constructor","spaces","alerts","images","upload","ngOnInit","loadData","loading","readCommunityList","then","communities","communitiesList","myCommunity","console","log","doRefresh","refresh","target","complete","editCommunity","edit","cancelEditCommunity","nameListener","e","name","detail","value","addressListener","address","zipCodeListener","zipCode","cityListener","city","stateListener","state","countryListener","country","handleChange","propertyType","updateCommunity","UpdateCommunity","data","addPhoto","options","currentRoute","height","width","pdf","presentImageOptions","imageObj","undefined","newImage","imageName","Date","toString","uid","uploadFile","file","progress","uploading","deletePicture","photo","url","showAlert","error","selector","template","IonRouterOutlet","ModalController","FireAuthService","ReservationsService","UsersService","NewReservationComponent","PickRentSpaceComponent","ReservationAdminComponent","modal","auth","userServ","request","routerOutlet","filter","user","userData","getUser","itemList","readReservationsListOrderRent","toISOString","filterSelected","filterChange","createReservation","modalPick","create","component","componentProps","reservation","mode","presentingElement","nativeEl","present","modalResult1","onWillDismiss","openReservation","space","users","readOnlyResidents","modalCreate","currentUser","modalResult2","NewSpaceComponent","SpacesAdminComponent","reload","list","readSpacesListOrder","readSpacesListOrderType","length","forEach","newItem","found","item","push","createSpace","modalResult","detailSpace","loadUsers","readAllUsers","unitlist","leases","lease","spaceLease","updatedSpace","UpdateSpaces"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}